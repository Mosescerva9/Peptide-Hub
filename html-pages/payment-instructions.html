<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Payment Instructions — Peptide Hub</title>
  <style>
    :root{
      --green:#1CB346;
      --green-d:#0f6b2b;
      --ink:#0f172a;
      --muted:#5b6472;
      --card:#ffffff;
      --radius:22px;
      --shadow:0 10px 30px rgba(0,0,0,.08);
      --border:#eef2f0;
      --bg:#ffffff;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Inter,Roboto,Arial;-webkit-font-smoothing:antialiased;overflow-x:hidden;max-width:100%}
    a{text-decoration:none;color:inherit}
    img{max-width:100%;display:block}
    .container{max-width:1000px;margin:0 auto;padding:0 16px}
    /* Compact header like index */
    .header{
      position: sticky;
      top: 0;
      z-index: 40;
      background: linear-gradient(90deg, var(--green), var(--green-d));
      color: #fff;
      border-bottom: 1px solid rgba(0,0,0,.04);
    }
    .header a{ color:#fff; }
    .nav-compact{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:12px 0;
      padding-top:calc(12px + env(safe-area-inset-top));
    }
    .nav-compact .brand{ display:flex; align-items:center; }
    .nav-compact .brand img.logo{ height:44px; width:auto; display:block; }
    .nav-compact .actions{ display:flex; gap:10px; align-items:center; }
    .nav-btn{
      font-weight:800;color:#fff;padding:10px 14px;border-radius:12px;
      border:1px solid rgba(255,255,255,.22);background:rgba(255,255,255,.10);
      backdrop-filter:saturate(1.1);white-space:nowrap;
    }
    .nav-btn:hover{ background:rgba(255,255,255,.18); }
    @media (max-width:420px){ .nav-btn{ padding:8px 12px; font-size:.95rem } }
    /* Panels / layout */
    .panel{background:#fff;border:1px solid var(--border);border-radius:22px;box-shadow:var(--shadow);padding:16px}
    main{margin:20px 0 28px}
    h2,h3{margin:6px 0 12px}
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;background:var(--green);color:#fff;padding:12px 18px;border-radius:16px;font-weight:900;box-shadow:0 8px 20px rgba(28,179,70,.20);transition:.15s ease;border:0;cursor:pointer;text-decoration:none}
    .btn:hover{background:#17a03f;transform:translateY(-1px)}
    .btn[disabled]{opacity:.6;cursor:not-allowed;transform:none}
    .instructions ol{margin-left:18px;padding-left:0}
    .instructions li{margin-bottom:6px;line-height:1.5}
    .hint{color:#64748b;font-size:.9rem;margin-top:4px}
  </style>
</head>
<body>
<header class="header">
  <div class="container nav-compact">
    <a aria-label="Peptide Hub — Home" class="brand" href="/">
      <img class="logo" src="assets/logo.png" alt="Peptide Hub logo">
    </a>
    <div class="actions">
      <a class="nav-btn" href="/admin">Track Your Package</a>
      <a class="nav-btn" href="/checkout" id="mini-cart-link">Cart (<span id="mini-cart-count">0</span>)</a>
    </div>
  </div>
</header>
<main class="container">
  <h2 style="margin:14px 0">Payment — Step by Step</h2>
  <section class="panel" id="instructions-section">
    <div>
      Order <span id="order-id">–</span> · Total <span id="order-total">–</span>
    </div>
    <div id="instructions" class="instructions" style="margin-top:12px"></div>
    <div id="unrecognized" style="display:none;margin-top:12px;color:#b91c1c;font-weight:600">
      Payment method not recognized. Please go back and choose a valid payment method.
    </div>
    <div style="margin-top:20px;display:flex;gap:12px;flex-wrap:wrap">
      <a class="btn" href="/checkout">Back to Checkout</a>
      <a class="btn" href="/">Continue Shopping</a>
    </div>
  </section>
</main>
<footer>
  <div class="container" style="margin-bottom:64px">
    <div class="legal" style="background:#f8faf9;padding:16px;border:1px solid #e6e9ee;border-radius:16px;color:#334155"><strong>Legal:</strong> For research purposes only. Not for human consumption. Must be 21+ to purchase.</div>
  </div>
</footer>
<script>
// Payment instructions page script
(function(){
  // Mini cart count from localStorage
  function getCart(){ try{ return JSON.parse(localStorage.getItem('ph_cart')||'[]'); }catch(e){ return []; } }
  function renderMini(){ var span = document.getElementById('mini-cart-count'); if(!span) return;
    span.textContent = getCart().reduce((n,i)=>n+(i.qty||0),0);
  }
  document.addEventListener('DOMContentLoaded', renderMini);
  document.addEventListener('ph_cart_updated', renderMini);
  // Parse query params
  function qs(name){ return new URLSearchParams(window.location.search).get(name); }
  var method = qs('method');
  var orderId = qs('order') || localStorage.getItem('orderId');
  var total = qs('total') || localStorage.getItem('orderTotal');
  // Update order details
  var orderEl = document.getElementById('order-id'); if(orderEl) orderEl.textContent = orderId || '—';
  var totalEl = document.getElementById('order-total'); if(totalEl) totalEl.textContent = total ? '$'+Number(total).toFixed(2) : '—';
  var instructionsEl = document.getElementById('instructions');
  var unrecEl = document.getElementById('unrecognized');
  // Build instructions based on method
  var body = '';
  var totalVal = total ? Number(total).toFixed(2) : '';
  if(method === 'cashapp'){
    body = `
      <h3>Cash App Instructions</h3>
      <ol>
        <li>Open Cash App and send the total <strong>$${totalVal}</strong> to <strong>$PeptideCo</strong>.</li>
        <li>In the note, include your order ID <strong>${orderId}</strong>.</li>
        <li>After sending, email or text your payment proof (receipt or screenshot) to <strong>support@peptideco.com</strong> or our phone number.</li>
        <li>We’ll email you once we receive your payment and again when your tracking number is available.</li>
      </ol>`;
  } else if(method === 'venmo'){
    body = `
      <h3>Venmo Instructions</h3>
      <ol>
        <li>Open Venmo and pay the total <strong>$${totalVal}</strong> to <strong>@PeptideCo</strong>.</li>
        <li>Add a memo with your order ID <strong>${orderId}</strong>.</li>
        <li>After sending, email or text your payment proof (receipt or screenshot) to <strong>support@peptideco.com</strong> or our phone number.</li>
        <li>We’ll email you once we receive your payment and again when your tracking number is available.</li>
      </ol>`;
  } else if(method === 'zelle'){
    body = `
      <h3>Zelle Instructions</h3>
      <ol>
        <li>Send the total <strong>$${totalVal}</strong> via Zelle to <strong>support@peptideco.com</strong>.</li>
        <li>Include your order ID <strong>${orderId}</strong> in the memo.</li>
        <li>After sending, email or text your payment proof (receipt or screenshot) to <strong>support@peptideco.com</strong> or our phone number.</li>
        <li>We’ll email you once we receive your payment and again when your tracking number is available.</li>
      </ol>`;
  } else if(method === 'bitcoin'){
    body = `
      <h3>Bitcoin Instructions</h3>
      <ol>
        <li>We will provide a unique Bitcoin address for your order. Please check your order confirmation email for this address.</li>
        <li>Send the equivalent of <strong>$${totalVal}</strong> in BTC to the provided address.</li>
        <li>If your wallet allows, include your order ID <strong>${orderId}</strong> as a memo.</li>
        <li>After sending, email or text your transaction ID or screenshot to <strong>support@peptideco.com</strong> or our phone number.</li>
        <li>We’ll email you once we receive your payment and again when your tracking number is available.</li>
      </ol>`;
  }
  if(body){
    if(instructionsEl) instructionsEl.innerHTML = body;
    if(unrecEl) unrecEl.style.display = 'none';
  } else {
    if(instructionsEl) instructionsEl.innerHTML = '';
    if(unrecEl) unrecEl.style.display = 'block';
  }
})();
</script>
</body>
</html>
