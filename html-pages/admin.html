<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Peptide Hub Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { font-family: Arial, sans-serif; padding: 20px; background: #f4f4f4; }
h1 { color: #2a5934; }
table { border-collapse: collapse; width: 100%; background: white; }
th, td { padding: 8px 12px; border-bottom: 1px solid #ddd; text-align: left; }
tr:hover { background: #f1f1f1; }
input, select, button { padding: 6px 10px; margin: 4px; }
.status { font-weight: bold; }
</style>
  <style>
    .panel{background:#fff;border:1px solid #eef2f0;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,.06);padding:16px}
    .faq-item{border-top:1px solid #eef2f0}
    .faq-item:first-of-type{border-top:0}
    .faq-q{cursor:pointer;display:flex;justify-content:space-between;align-items:center;padding:12px 4px;font-weight:800}
    .faq-a{display:none;padding:0 4px 12px;color:#5b6472;line-height:1.6}
    .faq-q span{font-size:1.05rem}
    .faq-q .icon{font-weight:900}
  </style>

</head>
<body>

  <style>
    :root{
      --green:#1CB346;
      --green-d:#0f6b2b;
      --ink:#0f172a;
      --muted:#5b6472;
      --border:#eef2f0;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:#ffffff;color:var(--ink);font-family:ui-sans-serif,system-ui,-apple-system,Inter,Roboto,Arial}
    a{text-decoration:none;color:inherit}
    img{max-width:100%;display:block}
    .container{max-width:1200px;margin:0 auto;padding:0 16px}
    .header{position:sticky;top:0;z-index:40;background:linear-gradient(90deg,var(--green),var(--green-d));color:#fff;border-bottom:1px solid rgba(0,0,0,.04)}
    .nav{display:flex;align-items:center;gap:12px;padding:12px 0}
    .nav img.logo{height:36px}
    .nav .spacer{flex:1}
    .nav a{font-weight:800;padding:10px 12px;border-radius:14px;color:#fff}
    .nav a:hover{background:rgba(255,255,255,.14)}

    .panel{background:#fff;border:1px solid var(--border);border-radius:22px;box-shadow:0 10px 30px rgba(0,0,0,.08);padding:18px;margin-bottom:16px}

  </style>

  <header class="header">
    <div class="container nav">
      <a href="index.html"><img class="logo" src="assets/logo.png" alt="Peptide Hub logo" /></a>
      <div class="spacer"></div>
      <a href="index.html">Home</a>
      <a href="checkout.html">Checkout</a>
      <a href="admin.html">Track Your Package</a>
    </div>
  </header>

<h1>Peptide Hub Admin</h1>
<div>
  <label>Search Order ID or Email: <input type="text" id="searchBox"></label>
  <button onclick="searchOrders()">Search</button>
</div>
<table id="ordersTable">
  <thead>
    <tr><th>Order ID</th><th>Status</th><th>Method</th><th>Amount</th><th>Email</th><th>Tracking</th><th>Actions</th></tr>
  </thead>
  <tbody></tbody>
</table>
<script>
async function searchOrders(){
  const q = document.getElementById('searchBox').value.trim();
  const res = await fetch('/.netlify/functions/admin-search?q='+encodeURIComponent(q));
  const data = await res.json();
  const tbody = document.querySelector('#ordersTable tbody');
  tbody.innerHTML = '';
  data.forEach(o => {
    const tr = document.createElement('tr');
    tr.innerHTML = '<td>'+o.order_id+'</td>'+
      '<td class="status">'+o.status+'</td>'+
      '<td>'+o.method+'</td>'+
      '<td>$'+o.amount_usd+'</td>'+
      '<td>'+o.customer_email+'</td>'+
      '<td>'+(o.tracking_number || '')+'</td>'+
      '<td>'+(o.status !== 'Payment_Received' ? '<button onclick="markPaid(\''+o.order_id+'\')">Mark Paid</button>' : '')+'</td>';
    tbody.appendChild(tr);
  });
}
async function markPaid(id){
  if(!confirm('Mark '+id+' as Payment_Received?')) return;
  await fetch('/.netlify/functions/admin-mark-paid', {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({ orderId: id })
  });
  searchOrders();
}
</script>

<section style="margin-top:24px;max-width:800px">
  <h2>Delivery FAQs</h2>
  <div style="background:#f8faf9;border:1px solid #e6e9ee;border-radius:12px;padding:16px;display:grid;gap:12px">
    <div>
      <strong>When will my order ship?</strong>
      <p>Orders placed before 2pm Central Time (Mon–Fri) typically ship the same day. Orders placed after this cutoff will ship the next business day.</p>
    </div>
    <div>
      <strong>How long does delivery take?</strong>
      <p>US domestic deliveries generally take 2–5 business days after shipment. Carrier delays can occur during peak seasons or severe weather.</p>
    </div>
    <div>
      <strong>Will I get a tracking number?</strong>
      <p>Yes. Once your order ships, you’ll receive a tracking number via email and text (if provided). You can also enter it above to check your package status.</p>
    </div>
    <div>
      <strong>What carriers do you use?</strong>
      <p>We primarily ship via USPS and UPS, with tracking and discreet packaging.</p>
    </div>
    <div>
      <strong>Can I change my shipping address?</strong>
      <p>If your order hasn’t shipped yet, contact our support team immediately to update your address.</p>
    </div>
  </div>
</section>
  <div class="container">
    <div class="faq panel">
      <h2>Delivery & Tracking — FAQs</h2>
      <div class="faq-item">
        <div class="faq-q"><span>When will my order ship?</span><div class="icon">+</div></div>
        <div class="faq-a">Orders placed by <strong>2:00 pm Central Time (Mon–Fri)</strong> are typically handed to the carrier the same day. Orders after the cutoff ship the next business day.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>How long does delivery take?</span><div class="icon">+</div></div>
        <div class="faq-a">Standard domestic delivery is usually <strong>2–5 business days</strong> depending on destination and carrier performance. Weather or peak-season volumes can add 1–3 days.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>How do I track my package?</span><div class="icon">+</div></div>
        <div class="faq-a">Enter your order number and email on this page to see the latest scans. We also email/SMS your tracking link as soon as the label is created.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>My tracking isn’t updating — is that normal?</span><div class="icon">+</div></div>
        <div class="faq-a">Yes, it can be normal for tracking to “pause” for 24–48 hours between scans, especially during transit handoffs. If there’s no update after 72 hours, contact support and we’ll investigate.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>Do you deliver on weekends or holidays?</span><div class="icon">+</div></div>
        <div class="faq-a">Carriers may deliver on Saturdays in some areas. There is <strong>no pickup or delivery</strong> on federal holidays.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>Signature required?</span><div class="icon">+</div></div>
        <div class="faq-a">Most orders do <em>not</em> require a signature. High-value shipments may require one at our discretion for security.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>Change of address after ordering?</span><div class="icon">+</div></div>
        <div class="faq-a">If the order hasn’t shipped, we can update the address—contact support immediately. After shipment, we can request a carrier intercept, but it isn’t guaranteed.</div>
      </div>
      <div class="faq-item">
        <div class="faq-q"><span>Package marked delivered but not received</span><div class="icon">+</div></div>
        <div class="faq-a">First, check with household members and neighbors and look around entrances. If still missing after 24 hours, reach out to support so we can open a carrier trace.</div>
      </div>
    </div>
  </div>
  <script>
    // Simple accordion behavior
    document.querySelectorAll('.faq-q').forEach(function(q){
      q.addEventListener('click', function(){
        var a = q.parentElement.querySelector('.faq-a');
        var open = a.style.display === 'block';
        document.querySelectorAll('.faq-a').forEach(x => x.style.display='none');
        document.querySelectorAll('.faq-q .icon').forEach(i => i.textContent='+');
        if(!open){ a.style.display='block'; q.querySelector('.icon').textContent='–'; }
      });
    });
  </script>


  <div style="max-width:1000px;margin:24px auto;padding:0 18px">
    <div class="panel">
      <h3 style="margin-top:0">Questions?</h3>
      <p>If you have any questions about your order or tracking, reach out to our support team:</p>
      <ul style="margin:0;padding-left:18px;line-height:1.6">
        <li>Email: <a href="mailto:support@peptidehub.example" style="color:#1CB346">support@peptidehub.example</a></li>
        <li>Phone: <a href="tel:+18005551234" style="color:#1CB346">(800) 555‑1234</a> (Mon–Fri, 9am–5pm CT)</li>
      </ul>
    </div>
  </div>

</body>
</html>
